import{h,i as q,k as c,l as _,m as U,n as T,A as B,o as M,p as N,q as y,t as H,v as b,w as G,x as I,_ as Q,y as w,z as P,B as g}from"./index-t7CWv40U.js";function R(i){var e=h.useContext(q()),t=i||e.client;return c(!!t,49),t}var D=!1,A="useSyncExternalStore",V=U[A],j=V||function(i,e,t){var r=e();globalThis.__DEV__!==!1&&!D&&r!==e()&&(D=!0,globalThis.__DEV__!==!1&&c.error(58));var a=h.useState({inst:{value:r,getSnapshot:e}}),n=a[0].inst,s=a[1];return _?h.useLayoutEffect(function(){Object.assign(n,{value:r,getSnapshot:e}),S(n)&&s({inst:n})},[i,r,e]):Object.assign(n,{value:r,getSnapshot:e}),h.useEffect(function(){return S(n)&&s({inst:n}),i(function(){S(n)&&s({inst:n})})},[i]),r};function S(i){var e=i.value,t=i.getSnapshot;try{return e!==t()}catch{return!0}}var p;(function(i){i[i.Query=0]="Query",i[i.Mutation=1]="Mutation",i[i.Subscription=2]="Subscription"})(p||(p={}));var f;function F(i){var e;switch(i){case p.Query:e="Query";break;case p.Mutation:e="Mutation";break;case p.Subscription:e="Subscription";break}return e}function E(i){f||(f=new B(M.parser||1e3));var e=f.get(i);if(e)return e;var t,r,a;c(!!i&&!!i.kind,59,i);for(var n=[],s=[],o=[],d=[],l=0,u=i.definitions;l<u.length;l++){var v=u[l];if(v.kind==="FragmentDefinition"){n.push(v);continue}if(v.kind==="OperationDefinition")switch(v.operation){case"query":s.push(v);break;case"mutation":o.push(v);break;case"subscription":d.push(v);break}}c(!n.length||s.length||o.length||d.length,60),c(s.length+o.length+d.length<=1,61,i,s.length,d.length,o.length),r=s.length?p.Query:p.Mutation,!s.length&&!o.length&&(r=p.Subscription);var k=s.length?s:o.length?o:d;c(k.length===1,62,i,k.length);var m=k[0];t=m.variableDefinitions||[],m.name&&m.name.kind==="Name"?a=m.name.value:a="data";var C={name:a,type:r,variables:t};return f.set(i,C),C}E.resetCache=function(){f=void 0};globalThis.__DEV__!==!1&&T("parser",function(){return f?f.size:0});function W(i,e){var t=E(i),r=F(e),a=F(t.type);c(t.type===e,63,r,r,a)}var $=Symbol.for("apollo.hook.wrappers");function L(i,e,t){var r=t.queryManager,a=r&&r[$],n=a&&a[i];return n?n(e):e}var x=Object.prototype.hasOwnProperty;function ie(i,e){return e===void 0&&(e=Object.create(null)),L("useQuery",z,R(e&&e.client))(i,e)}function z(i,e){return K(R(e.client),i).useQuery(e)}function K(i,e){var t=h.useRef();(!t.current||i!==t.current.client||e!==t.current.query)&&(t.current=new J(i,e,t.current));var r=t.current;return r.forceUpdateState=h.useReducer(function(a){return a+1},0)[1],r}var J=function(){function i(e,t,r){var a=this;this.client=e,this.query=t,this.forceUpdate=function(){return a.forceUpdateState()},this.ssrDisabledResult=N({loading:!0,data:void 0,error:void 0,networkStatus:y.loading}),this.skipStandbyResult=N({loading:!1,data:void 0,error:void 0,networkStatus:y.ready}),this.toQueryResultCache=new(H?WeakMap:Map),W(t,p.Query);var n=r&&r.result,s=n&&n.data;s&&(this.previousData=s)}return i.prototype.forceUpdateState=function(){globalThis.__DEV__!==!1&&c.warn(51)},i.prototype.executeQuery=function(e){var t=this,r;e.query&&Object.assign(this,{query:e.query}),this.watchQueryOptions=this.createWatchQueryOptions(this.queryHookOptions=e);var a=this.observable.reobserveAsConcast(this.getObsQueryOptions());return this.previousData=((r=this.result)===null||r===void 0?void 0:r.data)||this.previousData,this.result=void 0,this.forceUpdate(),new Promise(function(n){var s;a.subscribe({next:function(o){s=o},error:function(){n(t.toQueryResult(t.observable.getCurrentResult()))},complete:function(){n(t.toQueryResult(s))}})})},i.prototype.useQuery=function(e){var t=this;this.renderPromises=h.useContext(q()).renderPromises,this.useOptions(e);var r=this.useObservableQuery(),a=j(h.useCallback(function(n){if(t.renderPromises)return function(){};t.forceUpdate=n;var s=function(){var l=t.result,u=r.getCurrentResult();l&&l.loading===u.loading&&l.networkStatus===u.networkStatus&&b(l.data,u.data)||t.setResult(u)},o=function(l){if(d.unsubscribe(),d=r.resubscribeAfterError(s,o),!x.call(l,"graphQLErrors"))throw l;var u=t.result;(!u||u&&u.loading||!b(l,u.error))&&t.setResult({data:u&&u.data,error:l,loading:!1,networkStatus:y.error})},d=r.subscribe(s,o);return function(){setTimeout(function(){return d.unsubscribe()}),t.forceUpdate=function(){return t.forceUpdateState()}}},[r,this.renderPromises,this.client.disableNetworkFetches]),function(){return t.getCurrentResult()},function(){return t.getCurrentResult()});return this.unsafeHandlePartialRefetch(a),this.toQueryResult(a)},i.prototype.useOptions=function(e){var t,r=this.createWatchQueryOptions(this.queryHookOptions=e),a=this.watchQueryOptions;b(r,a)||(this.watchQueryOptions=r,a&&this.observable&&(this.observable.reobserve(this.getObsQueryOptions()),this.previousData=((t=this.result)===null||t===void 0?void 0:t.data)||this.previousData,this.result=void 0)),this.onCompleted=e.onCompleted||i.prototype.onCompleted,this.onError=e.onError||i.prototype.onError,(this.renderPromises||this.client.disableNetworkFetches)&&this.queryHookOptions.ssr===!1&&!this.queryHookOptions.skip?this.result=this.ssrDisabledResult:this.queryHookOptions.skip||this.watchQueryOptions.fetchPolicy==="standby"?this.result=this.skipStandbyResult:(this.result===this.ssrDisabledResult||this.result===this.skipStandbyResult)&&(this.result=void 0)},i.prototype.getObsQueryOptions=function(){var e=[],t=this.client.defaultOptions.watchQuery;return t&&e.push(t),this.queryHookOptions.defaultOptions&&e.push(this.queryHookOptions.defaultOptions),e.push(G(this.observable&&this.observable.options,this.watchQueryOptions)),e.reduce(I)},i.prototype.createWatchQueryOptions=function(e){var t;e===void 0&&(e={});var r=e.skip;e.ssr,e.onCompleted,e.onError,e.defaultOptions;var a=Q(e,["skip","ssr","onCompleted","onError","defaultOptions"]),n=Object.assign(a,{query:this.query});if(this.renderPromises&&(n.fetchPolicy==="network-only"||n.fetchPolicy==="cache-and-network")&&(n.fetchPolicy="cache-first"),n.variables||(n.variables={}),r){var s=n.fetchPolicy,o=s===void 0?this.getDefaultFetchPolicy():s,d=n.initialFetchPolicy,l=d===void 0?o:d;Object.assign(n,{initialFetchPolicy:l,fetchPolicy:"standby"})}else n.fetchPolicy||(n.fetchPolicy=((t=this.observable)===null||t===void 0?void 0:t.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return n},i.prototype.getDefaultFetchPolicy=function(){var e,t;return((e=this.queryHookOptions.defaultOptions)===null||e===void 0?void 0:e.fetchPolicy)||((t=this.client.defaultOptions.watchQuery)===null||t===void 0?void 0:t.fetchPolicy)||"cache-first"},i.prototype.onCompleted=function(e){},i.prototype.onError=function(e){},i.prototype.useObservableQuery=function(){var e=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=h.useMemo(function(){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}},[e]);var t=!(this.queryHookOptions.ssr===!1||this.queryHookOptions.skip);return this.renderPromises&&t&&(this.renderPromises.registerSSRObservable(e),e.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(e)),e},i.prototype.setResult=function(e){var t=this.result;t&&t.data&&(this.previousData=t.data),this.result=e,this.forceUpdate(),this.handleErrorOrCompleted(e,t)},i.prototype.handleErrorOrCompleted=function(e,t){var r=this;if(!e.loading){var a=this.toApolloError(e);Promise.resolve().then(function(){a?r.onError(a):e.data&&(t==null?void 0:t.networkStatus)!==e.networkStatus&&e.networkStatus===y.ready&&r.onCompleted(e.data)}).catch(function(n){globalThis.__DEV__!==!1&&c.warn(n)})}},i.prototype.toApolloError=function(e){return w(e.errors)?new P({graphQLErrors:e.errors}):e.error},i.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},i.prototype.toQueryResult=function(e){var t=this.toQueryResultCache.get(e);if(t)return t;var r=e.data;e.partial;var a=Q(e,["data","partial"]);return this.toQueryResultCache.set(e,t=g(g(g({data:r},a),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!t.error&&w(e.errors)&&(t.error=new P({graphQLErrors:e.errors})),t},i.prototype.unsafeHandlePartialRefetch=function(e){e.partial&&this.queryHookOptions.partialRefetch&&!e.loading&&(!e.data||Object.keys(e.data).length===0)&&this.observable.options.fetchPolicy!=="cache-only"&&(Object.assign(e,{loading:!0,networkStatus:y.refetch}),this.observable.refetch())},i}();const X={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetCategories"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"categories"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"price"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"}}]}}]}}]}}]},Y={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetCategoryById"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getCategoryById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"price"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"}}]}}]}}]}}]},Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetCategoryByTitle"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"title"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getCategoryByTitle"},arguments:[{kind:"Argument",name:{kind:"Name",value:"title"},value:{kind:"Variable",name:{kind:"Name",value:"title"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"price"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"}}]}}]}}]}}]},ee={"\n  query GetCategories {\n    categories {\n      id\n      title\n      items {\n        id\n        name\n        price\n        imageUrl\n      }\n    }\n  }\n":X,"\n  query GetCategoryById($id: ID!) {\n    getCategoryById(id: $id) {\n      id\n      title\n      items {\n        id\n        name\n        price\n        imageUrl\n      }\n    }\n  }\n":Y,"\n  query GetCategoryByTitle($title: String!) {\n    getCategoryByTitle(title: $title) {\n      id\n      title\n      items {\n        id\n        name\n        price\n        imageUrl\n      }\n    }\n  }\n":Z};function O(i){return ee[i]??{}}const re=O(`
  query GetCategories {
    categories {
      id
      title
      items {
        id
        name
        price
        imageUrl
      }
    }
  }
`);O(`
  query GetCategoryById($id: ID!) {
    getCategoryById(id: $id) {
      id
      title
      items {
        id
        name
        price
        imageUrl
      }
    }
  }
`);const ne=O(`
  query GetCategoryByTitle($title: String!) {
    getCategoryByTitle(title: $title) {
      id
      title
      items {
        id
        name
        price
        imageUrl
      }
    }
  }
`);export{ne as a,re as g,ie as u};
